(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62a9b602"],{9024:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{"margin-bottom":"5px"}},[e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入物品名","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loadPost.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("el-select",{staticStyle:{"margin-left":"5px"},attrs:{placeholder:"请选择仓库"},model:{value:t.storage,callback:function(e){t.storage=e},expression:"storage"}},t._l(t.storageData,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),e("el-select",{staticStyle:{"margin-left":"5px"},attrs:{placeholder:"请选择分类"},model:{value:t.goodstype,callback:function(e){t.goodstype=e},expression:"goodstype"}},t._l(t.goodstypeData,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:t.loadPost}},[t._v("查询")]),e("el-button",{attrs:{type:"success"},on:{click:t.resetParam}},[t._v("重置")])],1),e("el-table",{attrs:{data:t.tableData,"header-cell-style":{background:"#f2f5fc",color:"#555555"},border:""}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),e("el-table-column",{attrs:{prop:"goodsname",label:"物品名",width:"180"}}),e("el-table-column",{attrs:{prop:"storagename",label:"仓库",width:"180"}}),e("el-table-column",{attrs:{prop:"goodstypename",label:"分类",width:"180"}}),e("el-table-column",{attrs:{prop:"adminname",label:"操作人",width:"180"}}),e("el-table-column",{attrs:{prop:"username",label:"申请人",width:"180"}}),e("el-table-column",{attrs:{prop:"count",label:"数量",width:"180"}}),e("el-table-column",{attrs:{prop:"createtime",label:"操作时间",width:"180"}}),e("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1),e("el-pagination",{attrs:{"current-page":t.pageNum,"page-sizes":[5,10,20,30],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},l=[],s=(a("e9f5"),a("f665"),{name:"RecordManage",data(){return{user:JSON.parse(sessionStorage.getItem("CurUser")),storageData:[],goodstypeData:[],tableData:[],pageSize:10,pageNum:1,total:0,name:"",storage:"",goodstype:"",centerDialogVisible:!1,form:{id:"",name:"",storage:"",goodstype:"",count:"",remark:""}}},methods:{formatStorage(t){let e=this.storageData.find(e=>e.id==t.storage);return e&&e.name},formatGoodstype(t){let e=this.goodstypeData.find(e=>e.id==t.goodstype);return e&&e.name},resetForm(){this.$refs.form.resetFields()},handleSizeChange(t){console.log(`每页 ${t} 条`),this.pageNum=1,this.pageSize=t,this.loadPost()},handleCurrentChange(t){console.log("当前页: "+t),this.pageNum=t,this.loadPost()},resetParam(){this.name="",this.storage="",this.goodstype=""},loadStorage(){this.$axios.get(this.$httpUrl+"/storage/list").then(t=>t.data).then(t=>{console.log(t),200==t.code?this.storageData=t.data:alert("获取数据失败")})},loadGoodstype(){this.$axios.get(this.$httpUrl+"/goodstype/list").then(t=>t.data).then(t=>{console.log(t),200==t.code?this.goodstypeData=t.data:alert("获取数据失败")})},loadPost(){this.$axios.post(this.$httpUrl+"/record/listPage",{pageSize:this.pageSize,pageNum:this.pageNum,param:{name:this.name,goodstype:this.goodstype+"",storage:this.storage+"",roleId:this.user.roleId+"",userId:this.user.id+""}}).then(t=>t.data).then(t=>{console.log(t),200==t.code?(this.tableData=t.data,this.total=t.total):alert("获取数据失败")})}},beforeMount(){this.loadStorage(),this.loadGoodstype(),this.loadPost()}}),r=s,n=a("2877"),i=Object(n["a"])(r,o,l,!1,null,"3adeeffa",null);e["default"]=i.exports},f665:function(t,e,a){"use strict";var o=a("23e7"),l=a("c65b"),s=a("2266"),r=a("59ed"),n=a("825a"),i=a("46c4"),d=a("2a62"),p=a("f99f"),c=p("find",TypeError);o({target:"Iterator",proto:!0,real:!0,forced:c},{find:function(t){n(this);try{r(t)}catch(o){d(this,"throw",o)}if(c)return l(c,this,t);var e=i(this),a=0;return s(e,(function(e,o){if(t(e,a++))return o(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})}}]);
//# sourceMappingURL=chunk-62a9b602.51d0e7b3.js.map